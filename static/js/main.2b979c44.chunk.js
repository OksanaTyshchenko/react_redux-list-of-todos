(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var c=n(8),r=n.n(c),s=n(3),a=n(4),o=n(11),u=n(16),i="LOADING_TODOS",l="SELECT_USER",d="GET_ERROR",j="GET_USER",b="DELETE_TODO",p=function(t){return{type:i,todos:t}},O=function(t){return{type:l,userId:t}},f=function(t){return{type:d,message:t}},h=function(t){return{type:j,user:t}},x=function(t){return{type:b,id:t}},m=function(t){return t.todos},v=function(t){return t.userId},_=function(t){return t.errorLoading},y=function(t){return t.user},N={todos:[],userId:0,errorLoading:"",user:null,sort:!1},T=Object(o.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i:return Object(a.a)(Object(a.a)({},t),{},{todos:e.todos});case l:return Object(a.a)(Object(a.a)({},t),{},{userId:e.userId});case d:return Object(a.a)(Object(a.a)({},t),{},{errorLoading:e.message});case j:return Object(a.a)(Object(a.a)({},t),{},{user:e.user});case b:return Object(a.a)(Object(a.a)({},t),{},{todos:t.todos.filter((function(t){return t.id!==e.id}))});default:return t}}),Object(u.composeWithDevTools)()),C=T,L=n(5),k=n(2),w=n.n(k),g=n(0),E=(n(25),n(26),"https://mate.academy/students-api");function S(){return A.apply(this,arguments)}function A(){return(A=Object(L.a)(w.a.mark((function t(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(E,"/todos"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t){return I.apply(this,arguments)}function I(){return(I=Object(L.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(E,"/users/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return D.apply(this,arguments)}function D(){return(D=Object(L.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("".concat(E,"/todos/").concat(e),{method:"DELETE"});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(27);var B=n(1),G=function(){var t=Object(s.c)(v),e=Object(s.c)(_),n=Object(s.c)(y),c=Object(s.b)();return Object(g.useEffect)((function(){function e(){return(e=Object(L.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:n=e.sent,c(h(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(f("Can not load user"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(B.jsx)(B.Fragment,{children:n?Object(B.jsxs)("div",{className:"CurrentUser",children:[Object(B.jsx)("h2",{className:"CurrentUser__title",children:Object(B.jsx)("span",{children:"Selected user: ".concat(n.id)})}),Object(B.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:n.name}),Object(B.jsx)("p",{className:"CurrentUser__email",children:n.email}),Object(B.jsx)("p",{className:"CurrentUser__phone",children:n.phone}),Object(B.jsx)("button",{type:"button",onClick:function(){return c(O(0))},className:"CurrentUser__clear",children:"Clear"})]}):Object(B.jsx)("p",{children:e})})},J=n(14),M=n(6),z=(n(29),n(13)),F=n.n(z),W=function(){var t,e=Object(g.useState)(""),n=Object(M.a)(e,2),c=n[0],r=n[1],a=Object(g.useState)(""),o=Object(M.a)(a,2),u=o[0],i=o[1],l=Object(g.useState)("All"),d=Object(M.a)(l,2),j=d[0],b=d[1],p=Object(g.useState)(!1),f=Object(M.a)(p,2),h=f[0],_=f[1],y=Object(g.useState)(!1),N=Object(M.a)(y,2),T=N[0],C=N[1],k=Object(s.c)(m),E=Object(s.c)(v),S=Object(s.b)(),A=Object(g.useCallback)(function(t,e){var n;return function(){clearTimeout(n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];n=setTimeout.apply(void 0,[t,e].concat(r))}}(i,1e3),[]),U=function(){var t=k.filter((function(t){return t.title.toLowerCase().includes(u.toLowerCase())}));switch(j){case"Active":return t.filter((function(t){return!t.completed}));case"Completed":return t.filter((function(t){return t.completed}));default:return t}}(),I=h?function(t){for(var e=Object(J.a)(t),n=e.length-1;n>0;n-=1){var c=Math.floor(Math.random()*(n+1)),r=[e[c],e[n]];e[n]=r[0],e[c]=r[1]}return e}(U):U,D=T?(t=I,Object(J.a)(t).sort((function(t,e){return t.title.localeCompare(e.title)}))):I,G=function(){var t=Object(L.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:S(x(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"TodoList",children:[Object(B.jsx)("h2",{children:"Todos:"}),Object(B.jsx)("p",{children:"Search by title"}),Object(B.jsx)("label",{children:Object(B.jsx)("input",{type:"text",value:c,onChange:function(t){var e=t.target.value;r(e),A(e)}})}),Object(B.jsxs)("select",{value:j,onChange:function(t){var e=t.target.value;b(e)},className:"TodoList__select",children:[Object(B.jsx)("option",{children:"All"}),Object(B.jsx)("option",{children:"Active"}),Object(B.jsx)("option",{children:"Completed"})]}),Object(B.jsx)("button",{type:"button",onClick:function(){return _((function(t){return!t}))},className:"TodoList__additionButton",children:"Randomize"}),Object(B.jsx)("button",{type:"button",className:"TodoList__additionButton",onClick:function(){return C((function(t){return!t}))},children:"Sort"}),Object(B.jsx)("div",{className:"TodoList__list-container",children:Object(B.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:D.map((function(t){var e=t.userId,n=t.completed,c=t.title,r=t.id;return Object(B.jsxs)("li",{className:F()("TodoList__item",{"TodoList__item--checked":n},{"TodoList__item--unchecked":!n}),children:[Object(B.jsxs)("label",{children:[Object(B.jsx)("input",{type:"checkbox",readOnly:!0}),Object(B.jsx)("p",{children:c})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)("button",{"data-cy":"userButton",className:F()("TodoList__user-button button",{"TodoList__user-button--selected":e===E}),type:"button",onClick:function(){return S(O(e))},children:e?"User ".concat(e):"No user"}),Object(B.jsx)("button",{type:"button",onClick:function(){return G(r)},className:"TodoList__deleteButton button",children:"\ud83d\uddd1"})]})]},r)}))})})]})},q=function(){var t=Object(s.c)(v),e=Object(s.c)(_),n=Object(s.b)();return Object(g.useEffect)((function(){function t(){return(t=Object(L.a)(w.a.mark((function t(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S();case 3:e=t.sent,n(p(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(f("Can not load todos"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Redux list of todos"}),0===e.length?Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)("div",{className:"App__sidebar",children:Object(B.jsx)(W,{})}),Object(B.jsx)("div",{className:"App__content",children:Object(B.jsx)("div",{className:"App__content-container",children:t?Object(B.jsx)(G,{}):"No user selected"})})]}):Object(B.jsx)("p",{className:"App__error",children:e})]})},H=function(){return Object(B.jsx)(s.a,{store:C,children:Object(B.jsx)(q,{})})};r.a.render(Object(B.jsx)(H,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.2b979c44.chunk.js.map